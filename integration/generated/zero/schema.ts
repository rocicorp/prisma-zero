// This file was automatically generated by prisma-zero.
// You should NOT make any changes in this file as it will be overwritten.

import {
  boolean,
  createBuilder,
  createSchema,
  enumeration,
  json,
  number,
  relationships,
  string,
  table,
} from '@rocicorp/zero';

export type Role = 'USER' | 'ADMIN';

export type Status = 'active' | 'inactive';

export const scalarTypesTable = table('ScalarTypes')
  .columns({
    id: string(),
    str: string(),
    int: number(),
    float: number(),
    bool: boolean(),
    dateTime: number(),
    json: json(),
    bigInt: number(),
    decimal: number(),
  })
  .primaryKey('id');

export const optionalTypesTable = table('OptionalTypes')
  .columns({
    id: string(),
    str: string().optional(),
    int: number().optional(),
    dateTime: number().optional(),
    json: json().optional(),
    enum: enumeration<Status>().optional(),
  })
  .primaryKey('id');

export const arrayTypesTable = table('ArrayTypes')
  .columns({
    id: string(),
    strings: json<string[]>(),
    ints: json<number[]>(),
    floats: json<number[]>(),
    bools: json<boolean[]>(),
    dateTimes: json<number[]>(),
    bigInts: json<number[]>(),
    decimals: json<number[]>(),
    enums: json<Role[]>(),
    jsonArray: json<any[]>(),
  })
  .primaryKey('id');

export const fieldMappingTable = table('FieldMapping')
  .columns({
    id: string(),
    firstName: string().from('first_name'),
    lastName: string().from('last_name'),
  })
  .primaryKey('id');

export const tableMappingTable = table('TableMapping')
  .from('table_mappings')
  .columns({
    id: string(),
    name: string(),
  })
  .primaryKey('id');

export const combinedMappingTable = table('CombinedMapping')
  .from('combined_mappings')
  .columns({
    id: string(),
    createdAt: number().from('created_at'),
  })
  .primaryKey('id');

export const compositePkTable = table('CompositePK')
  .columns({
    tenantId: string(),
    recordId: string(),
    data: string(),
  })
  .primaryKey('tenantId', 'recordId');

export const userTable = table('User')
  .columns({
    id: string(),
    email: string(),
  })
  .primaryKey('id');

export const profileTable = table('Profile')
  .columns({
    id: string(),
    bio: string().optional(),
    userId: string(),
  })
  .primaryKey('id');

export const postTable = table('Post')
  .columns({
    id: string(),
    title: string(),
    authorId: string(),
  })
  .primaryKey('id');

export const commentTable = table('Comment')
  .columns({
    id: string(),
    text: string(),
    postId: string(),
  })
  .primaryKey('id');

export const articleTable = table('Article')
  .columns({
    id: string(),
    name: string(),
  })
  .primaryKey('id');

export const tagTable = table('Tag')
  .columns({
    id: string(),
    name: string(),
  })
  .primaryKey('id');

export const workerTable = table('Worker')
  .columns({
    id: string(),
    name: string(),
  })
  .primaryKey('id');

export const skillTable = table('Skill')
  .columns({
    id: string(),
    name: string(),
  })
  .primaryKey('id');

export const workerSkillTable = table('WorkerSkill')
  .columns({
    id: string(),
    proficiency: number(),
    workerId: string(),
    skillId: string(),
  })
  .primaryKey('id');

export const categoryTable = table('Category')
  .columns({
    id: string(),
    name: string(),
    parentId: string().optional(),
  })
  .primaryKey('id');

export const socialUserTable = table('SocialUser')
  .columns({
    id: string(),
    username: string(),
  })
  .primaryKey('id');

export const tenantTable = table('Tenant')
  .columns({
    id: string(),
    name: string(),
  })
  .primaryKey('id');

export const tenantConfigTable = table('TenantConfig')
  .columns({
    id: string(),
    settings: json(),
    tenantId: string(),
  })
  .primaryKey('id');

export const taskTable = table('Task')
  .columns({
    id: string(),
    title: string(),
    creatorId: string(),
    assigneeId: string().optional(),
  })
  .primaryKey('id');

export const memberTable = table('Member')
  .columns({
    id: string(),
    name: string(),
  })
  .primaryKey('id');

export const enumFieldsTable = table('EnumFields')
  .columns({
    id: string(),
    role: enumeration<Role>(),
    statuses: json<Status[]>(),
  })
  .primaryKey('id');

export const nativeTypesTable = table('NativeTypes')
  .columns({
    id: string(),
    varchar: string(),
    text: string(),
    smallInt: number(),
    decimal: number(),
    timestamp: number(),
    jsonb: json(),
  })
  .primaryKey('id');

export const postgresNativeTypesTable = table('PostgresNativeTypes')
  .columns({
    id: string(),
    text: string(),
    varchar255: string(),
    char10: string(),
    xml: string(),
    inet: string(),
    bit8: string(),
    varbit: string(),
    integer: number(),
    smallint: number(),
    oid: number(),
    bigint: number(),
    doublePrecision: number(),
    real: number(),
    decimal102: number(),
    money: number(),
    timestamp6: number(),
    timestamptz6: number(),
    date: number(),
    time6: number(),
    timetz6: number(),
    json: json(),
    jsonb: json(),
    boolean: boolean(),
  })
  .primaryKey('id');

export const timestampModelTable = table('TimestampModel')
  .columns({
    id: string(),
    name: string(),
    createdAt: number(),
    updatedAt: number(),
  })
  .primaryKey('id');

export const defaultFunctionsTable = table('DefaultFunctions')
  .columns({
    id: string(),
    cuidField: string(),
    nowField: number(),
    intDefault: number(),
    boolDefault: boolean(),
    strDefault: string(),
  })
  .primaryKey('id');

export const minimalModelTable = table('MinimalModel')
  .columns({
    id: string(),
  })
  .primaryKey('id');

export const reservedWordsTable = table('ReservedWords')
  .columns({
    id: string(),
    select: string().from('select_field'),
    from: string().from('from_field'),
    where: string().from('where_field'),
  })
  .primaryKey('id');

export const _articleToTagTable = table('_ArticleToTag')
  .from('_ArticleToTag')
  .columns({
    A: string(),
    B: string(),
  })
  .primaryKey('A', 'B');

export const _blockListTable = table('_BlockList')
  .from('_BlockList')
  .columns({
    A: string(),
    B: string(),
  })
  .primaryKey('A', 'B');

export const userTableRelationships = relationships(
  userTable,
  ({one, many}) => ({
    profile: one({
      sourceField: ['id'],
      destField: ['userId'],
      destSchema: profileTable,
    }),
    posts: many({
      sourceField: ['id'],
      destField: ['authorId'],
      destSchema: postTable,
    }),
  }),
);
export const profileTableRelationships = relationships(
  profileTable,
  ({one}) => ({
    user: one({
      sourceField: ['userId'],
      destField: ['id'],
      destSchema: userTable,
    }),
  }),
);
export const postTableRelationships = relationships(
  postTable,
  ({one, many}) => ({
    author: one({
      sourceField: ['authorId'],
      destField: ['id'],
      destSchema: userTable,
    }),
    comments: many({
      sourceField: ['id'],
      destField: ['postId'],
      destSchema: commentTable,
    }),
  }),
);
export const commentTableRelationships = relationships(
  commentTable,
  ({one}) => ({
    post: one({
      sourceField: ['postId'],
      destField: ['id'],
      destSchema: postTable,
    }),
  }),
);
export const articleTableRelationships = relationships(
  articleTable,
  ({many}) => ({
    tags: many(
      {
        sourceField: ['id'],
        destField: ['A'],
        destSchema: _articleToTagTable,
      },
      {
        sourceField: ['B'],
        destField: ['id'],
        destSchema: tagTable,
      },
    ),
  }),
);
export const tagTableRelationships = relationships(tagTable, ({many}) => ({
  articles: many(
    {
      sourceField: ['id'],
      destField: ['B'],
      destSchema: _articleToTagTable,
    },
    {
      sourceField: ['A'],
      destField: ['id'],
      destSchema: articleTable,
    },
  ),
}));
export const workerTableRelationships = relationships(
  workerTable,
  ({many}) => ({
    skills: many({
      sourceField: ['id'],
      destField: ['workerId'],
      destSchema: workerSkillTable,
    }),
  }),
);
export const skillTableRelationships = relationships(skillTable, ({many}) => ({
  workers: many({
    sourceField: ['id'],
    destField: ['skillId'],
    destSchema: workerSkillTable,
  }),
}));
export const workerSkillTableRelationships = relationships(
  workerSkillTable,
  ({one}) => ({
    worker: one({
      sourceField: ['workerId'],
      destField: ['id'],
      destSchema: workerTable,
    }),
    skill: one({
      sourceField: ['skillId'],
      destField: ['id'],
      destSchema: skillTable,
    }),
  }),
);
export const categoryTableRelationships = relationships(
  categoryTable,
  ({one, many}) => ({
    parent: one({
      sourceField: ['parentId'],
      destField: ['id'],
      destSchema: categoryTable,
    }),
    children: many({
      sourceField: ['id'],
      destField: ['parentId'],
      destSchema: categoryTable,
    }),
  }),
);
export const socialUserTableRelationships = relationships(
  socialUserTable,
  ({many}) => ({
    blocked: many(
      {
        sourceField: ['id'],
        destField: ['A'],
        destSchema: _blockListTable,
      },
      {
        sourceField: ['B'],
        destField: ['id'],
        destSchema: socialUserTable,
      },
    ),
    blockedBy: many(
      {
        sourceField: ['id'],
        destField: ['B'],
        destSchema: _blockListTable,
      },
      {
        sourceField: ['A'],
        destField: ['id'],
        destSchema: socialUserTable,
      },
    ),
  }),
);
export const tenantTableRelationships = relationships(tenantTable, ({one}) => ({
  config: one({
    sourceField: ['id'],
    destField: ['tenantId'],
    destSchema: tenantConfigTable,
  }),
}));
export const tenantConfigTableRelationships = relationships(
  tenantConfigTable,
  ({one}) => ({
    tenant: one({
      sourceField: ['tenantId'],
      destField: ['id'],
      destSchema: tenantTable,
    }),
  }),
);
export const taskTableRelationships = relationships(taskTable, ({one}) => ({
  creator: one({
    sourceField: ['creatorId'],
    destField: ['id'],
    destSchema: memberTable,
  }),
  assignee: one({
    sourceField: ['assigneeId'],
    destField: ['id'],
    destSchema: memberTable,
  }),
}));
export const memberTableRelationships = relationships(
  memberTable,
  ({many}) => ({
    createdTasks: many({
      sourceField: ['id'],
      destField: ['creatorId'],
      destSchema: taskTable,
    }),
    assignedTasks: many({
      sourceField: ['id'],
      destField: ['assigneeId'],
      destSchema: taskTable,
    }),
  }),
);
export const _articleToTagTableRelationships = relationships(
  _articleToTagTable,
  ({one}) => ({
    modelA: one({
      sourceField: ['A'],
      destField: ['id'],
      destSchema: articleTable,
    }),
    modelB: one({
      sourceField: ['B'],
      destField: ['id'],
      destSchema: tagTable,
    }),
  }),
);
export const _blockListTableRelationships = relationships(
  _blockListTable,
  ({one}) => ({
    modelA: one({
      sourceField: ['A'],
      destField: ['id'],
      destSchema: socialUserTable,
    }),
    modelB: one({
      sourceField: ['B'],
      destField: ['id'],
      destSchema: socialUserTable,
    }),
  }),
);
/**
 * The Zero schema object.
 * This type is auto-generated from your Prisma schema definition.
 */
export const schema = createSchema({
  tables: [
    scalarTypesTable,
    optionalTypesTable,
    arrayTypesTable,
    fieldMappingTable,
    tableMappingTable,
    combinedMappingTable,
    compositePkTable,
    userTable,
    profileTable,
    postTable,
    commentTable,
    articleTable,
    tagTable,
    workerTable,
    skillTable,
    workerSkillTable,
    categoryTable,
    socialUserTable,
    tenantTable,
    tenantConfigTable,
    taskTable,
    memberTable,
    enumFieldsTable,
    nativeTypesTable,
    postgresNativeTypesTable,
    timestampModelTable,
    defaultFunctionsTable,
    minimalModelTable,
    reservedWordsTable,
    _articleToTagTable,
    _blockListTable,
  ],
  relationships: [
    userTableRelationships,
    profileTableRelationships,
    postTableRelationships,
    commentTableRelationships,
    articleTableRelationships,
    tagTableRelationships,
    workerTableRelationships,
    skillTableRelationships,
    workerSkillTableRelationships,
    categoryTableRelationships,
    socialUserTableRelationships,
    tenantTableRelationships,
    tenantConfigTableRelationships,
    taskTableRelationships,
    memberTableRelationships,
    _articleToTagTableRelationships,
    _blockListTableRelationships,
  ],
});

/**
 * Represents the Zero schema type.
 * This type is auto-generated from your Prisma schema definition.
 */
export type Schema = typeof schema;
/**
 * Represents the ZQL query builder.
 * This type is auto-generated from your Prisma schema definition.
 */
export const zql = createBuilder(schema);
/**
 * Represents the Zero schema query builder.
 * This type is auto-generated from your Prisma schema definition.
 *
 * @deprecated Use `zql` instead.
 */
export const builder = zql;
